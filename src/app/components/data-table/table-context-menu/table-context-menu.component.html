<div #contextMenu class="fixed bg-card border border-border rounded-lg shadow-xl z-[100] min-w-[200px]"
  [style.left.px]="store.uiState().contextMenuPosition!.x" [style.top.px]="store.uiState().contextMenuPosition!.y"
  role="menu" aria-label="Context menu">
  <div class="py-1">
    <button (click)="executeAction('openAdmin')"
      class="w-full text-left px-4 py-2 text-sm hover:bg-muted flex items-center gap-3" role="menuitem">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
      </svg>
      Open Local Admin
    </button>

    <button (click)="executeAction('moveServer')"
      class="w-full text-left px-4 py-2 text-sm hover:bg-muted flex items-center gap-3" role="menuitem">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
      </svg>
      Move Server
    </button>

    <button (click)="executeAction('connectRemote')"
      class="w-full text-left px-4 py-2 text-sm hover:bg-muted flex items-center gap-3" role="menuitem">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
      </svg>
      Connect Remote Services
    </button>

    <div class="border-t border-border my-1"></div>

    <button (click)="executeAction('debug')"
      class="w-full text-left px-4 py-2 text-sm hover:bg-muted flex items-center gap-3 text-warning" role="menuitem">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
      </svg>
      Advanced Debug Mode
    </button>
  </div>
</div>